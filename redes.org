#+title: Proyecto final de Redes

* Subneteo
| hosts | subnet            |            mask |          first |           last |      broadcast |
|-------+-------------------+-----------------+----------------+----------------+----------------|
|    62 | 192.168.10.0/26   | 255.255.255.192 |   192.168.10.1 |  192.168.10.62 |  192.168.10.63 |
|    62 | 192.168.10.64/26  | 255.255.255.192 |  192.168.10.65 | 192.168.10.126 | 192.168.10.127 |
|    30 | 192.168.10.128/27 | 255.255.255.224 | 192.168.10.129 | 192.168.10.158 | 192.168.10.159 |
|    14 | 192.168.10.160/28 | 255.255.255.240 | 192.168.10.161 | 192.168.10.174 | 192.168.10.175 |

* Configuración
** Configuración básica
#+begin_src
enable
configure terminal
enable secret cisco123
line vty 0 15
password cisco123
login
line console 0
password cisco123
login
banner motd #skibidi toilet#
no ip domain lookup
exit
copy running-config startup-config
#+end_src

** Switch: servidores
#+begin_src
enable
configure terminal
interface range fa0/4-24,g0/2
shutdown
#+end_src

** DHCP: RP
Router on a stick
#+begin_src
ip dhcp pool skibidi
 network 192.168.20.0 255.255.255.0
 default-router 192.168.20.1
 dns-server 192.168.30.6
ip dhcp pool vlan10
 network 192.168.10.0 255.255.255.224
 default-router 192.168.10.1
 dns-server 192.168.30.6
ip dhcp pool vlan20
 network 192.168.10.32 255.255.255.224
 default-router 192.168.10.33
 dns-server 192.168.30.6
ip dhcp pool vlan30
 network 192.168.10.64 255.255.255.224
 default-router 192.168.10.65
 dns-server 192.168.30.6
ip dhcp pool vlan40
 network 192.168.10.96 255.255.255.224
 default-router 192.168.10.97
 dns-server 192.168.30.6
ip dhcp pool vlan50
 network 192.168.10.128 255.255.255.224
 default-router 192.168.10.129
 dns-server 192.168.30.6
#+end_src

no ip dhcp pool vlan10
no ip dhcp pool vlan20
no ip dhcp pool vlan30
no ip dhcp pool vlan40
no ip dhcp pool vlan50

** Subinterfaces
#+begin_src
int g0/1.10
encapsulation dot1q 10
ip add 192.168.10.1 255.255.255.224
int g0/1.20
encapsulation dot1q 20
ip add 192.168.10.33 255.255.255.224
int g0/1.30
encapsulation dot1q 30
ip add 192.168.10.65 255.255.255.224
int g0/1.40
encapsulation dot1q 40
ip add 192.168.10.97 255.255.255.224
int g0/1.50
encapsulation dot1q 50
ip add 192.168.10.129 255.255.255.224
#+end_src

** Spanning tree
En cada switch de las PCs
#+begin_src
enable
configure terminal
no spanning-tree vlan 10,20,30,40,50 priority 0
no interface range FastEthernet0/1 - 10
no spanning-tree portfast
#+end_src

** Etherchannel
Switch vlan 10
#+begin_src
int ra g0/2,fa0/11-12
sw m t
channel-group 1 mode desirable
exit
int Port-channel1
sw m t
#+end_src

no network 200.200.200.0 0.0.0.7 area 0
no network 200.200.200.8 0.0.0.7 area 0
no network 192.168.100.0 0.0.0.7 area 0
no network 192.168.100.8 0.0.0.7 area 0
